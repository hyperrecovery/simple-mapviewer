"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7069],{40490:function(e,n,o){var t,r=o(33156),i=o(29123),a=o(12008),l=o(19665),c=o(96306),s=o(80244),w=o(96090),f=o(87300),g=o(5651),u=o(41225),d=o(61067),b=o(92535),m=o(19987),p=o(96802),x=o(86395),k=o(57356),v=o(23678),y=document.getElementById("type"),h=document.getElementById("segments"),C=document.getElementById("clear"),M=new a.ZP({fill:new l.Z({color:"rgba(255, 255, 255, 0.2)"}),stroke:new c.Z({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new s.Z({radius:5,stroke:new c.Z({color:"rgba(0, 0, 0, 0.7)"}),fill:new l.Z({color:"rgba(255, 255, 255, 0.2)"})})}),F=new a.ZP({text:new w.Z({font:"14px Calibri,sans-serif",fill:new l.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new l.Z({color:"rgba(0, 0, 0, 0.7)"}),padding:[3,3,3,3],textBaseline:"bottom",offsetY:-15}),image:new f.Z({radius:8,points:3,angle:Math.PI,displacement:[0,10],fill:new l.Z({color:"rgba(0, 0, 0, 0.7)"})})}),P=new a.ZP({text:new w.Z({font:"12px Calibri,sans-serif",fill:new l.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new l.Z({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),A=new a.ZP({image:new s.Z({radius:5,stroke:new c.Z({color:"rgba(0, 0, 0, 0.7)"}),fill:new l.Z({color:"rgba(0, 0, 0, 0.4)"})}),text:new w.Z({text:"Drag to modify",font:"12px Calibri,sans-serif",fill:new l.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new l.Z({color:"rgba(0, 0, 0, 0.7)"}),padding:[2,2,2,2],textAlign:"left",offsetX:15})}),B=new a.ZP({text:new w.Z({font:"12px Calibri,sans-serif",fill:new l.Z({color:"rgba(255, 255, 255, 1)"}),backgroundFill:new l.Z({color:"rgba(0, 0, 0, 0.4)"}),padding:[2,2,2,2],textBaseline:"bottom",offsetY:-12}),image:new f.Z({radius:6,points:3,angle:Math.PI,displacement:[0,8],fill:new l.Z({color:"rgba(0, 0, 0, 0.4)"})})}),D=[B],X=function(e){var n=(0,v.xA)(e);return n>100?Math.round(n/1e3*100)/100+" km":Math.round(100*n)/100+" m"},Y=new x.Z({source:new m.Z}),z=new p.Z,L=new g.Z({source:z,style:A});function S(e,n,o,r){var i,a,l,c,s,w=[M],f=e.getGeometry(),g=f.getType();if(o&&o!==g||("Polygon"===g?(i=f.getInteriorPoint(),c=f,a=(s=(0,v.bg)(c))>1e4?Math.round(s/1e6*100)/100+" km²":Math.round(100*s)/100+" m²",l=new d.Z(f.getCoordinates()[0])):"LineString"===g&&(i=new b.Z(f.getLastCoordinate()),a=X(f),l=f)),n&&l){var u=0;l.forEachSegment((function(e,n){var o=new d.Z([e,n]),t=X(o);D.length-1<u&&D.push(B.clone());var r=new b.Z(o.getCoordinateAt(.5));D[u].setGeometry(r),D[u].getText().setText(t),w.push(D[u]),u++}))}return a&&(F.setGeometry(i),F.getText().setText(a),w.push(F)),r&&"Point"===g&&!L.getOverlay().getSource().getFeatures().length&&(t=f,P.getText().setText(r),w.push(P)),w}var j,q=new k.Z({source:z,style:function(e){return S(e,h.checked)}}),E=new r.Z({layers:[Y,q],target:"map",view:new i.ZP({center:[-11e6,46e5],zoom:15})});function G(){var e=y.value,n="Click to continue drawing the "+("Polygon"===e?"polygon":"line"),o="Click to start measuring",r=o;(j=new u.ZP({source:z,type:e,style:function(n){return S(n,h.checked,e,r)}})).on("drawstart",(function(){C.checked&&z.clear(),L.setActive(!1),r=n})),j.on("drawend",(function(){A.setGeometry(t),L.setActive(!0),E.once("pointermove",(function(){A.setGeometry()})),r=o})),L.setActive(!0),E.addInteraction(j)}E.addInteraction(L),y.onchange=function(){E.removeInteraction(j),G()},G(),h.onchange=function(){q.changed(),j.getOverlay().changed()}}},function(e){var n;n=40490,e(e.s=n)}]);
//# sourceMappingURL=measure-style.js.map