(self.webpackChunk=self.webpackChunk||[]).push([[6440],{93784:function(e,n){function t(e,n){var t=[],r=[];return null==n&&(n=function(e,n){return t[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,t.indexOf(n)).join(".")+"]"}),function(a,o){if(t.length>0){var i=t.indexOf(this);~i?t.splice(i+1):t.push(this),~i?r.splice(i,1/0,a):r.push(a),~t.indexOf(o)&&(o=n.call(this,a,o))}else t.push(o);return null==e?o:e.call(this,a,o)}}(e.exports=function(e,n,r,a){return JSON.stringify(e,t(n,a),r)}).getSerialize=t},59084:function(e,n,t){"use strict";var r=t(65851),a=t(33156),o=t(74358),i=t(29123);var u,c,s,f,l,m,v=t(93784),d=t(62140),w=t(44812),p=t(61430),g=new function(){return new Worker(t.p+"offscreen-canvas.worker.worker.js")};function h(){if(l){var e=m.viewState,n=l.viewState,t=e.center,r=e.resolution,a=e.rotation,o=n.center,i=n.resolution,u=n.rotation,s=(0,w.Ue)();a||(0,w.qC)(s,(o[0]-t[0])/r,(t[1]-o[1])/r,i/r,i/r,a-u,0,0),c.style.transform=(0,w.BB)(s)}}var b=new a.Z({layers:[new r.Z({render:function(e){return u||((u=document.createElement("div")).style.position="absolute",u.style.width="100%",u.style.height="100%",(c=document.createElement("div")).style.position="absolute",c.style.width="100%",c.style.height="100%",u.appendChild(c),(s=document.createElement("canvas")).style.position="absolute",s.style.left="0",s.style.transformOrigin="top left",c.appendChild(s)),m=e,h(),f?e.animate=!0:(f=!0,g.postMessage({action:"render",frameState:JSON.parse(v(e))})),u},source:new o.Z({attributions:['<a href="https://www.maptiler.com/copyright/" target="_blank">© MapTiler</a>','<a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>']})})],target:"map",view:new i.ZP({resolutions:(0,p.dl)({tileSize:512}).getResolutions(),center:[0,0],zoom:2})});b.addControl(new d.Z),b.on("pointermove",(function(e){if(!e.dragging){var n=b.getEventPixel(e.originalEvent);g.postMessage({action:"requestFeatures",pixel:n})}})),g.addEventListener("message",(function(e){if("loadImage"===e.data.action){var n=new Image;n.crossOrigin="anonymous",n.addEventListener("load",(function(){createImageBitmap(n,0,0,n.width,n.height).then((function(n){g.postMessage({action:"imageLoaded",image:n,src:e.data.src},[n])}))})),n.src=e.data.src}else"getFeatures"===e.data.action?function(e){if(0==e.length)return S.innerText="",void(S.style.opacity=0);var n=e.map((function(e){return Object.keys(e).filter((function(e){return!e.includes(":")})).reduce((function(n,t){return n[t]=e[t],n}),{})}));S.innerText=JSON.stringify(n,null,2),S.style.opacity=1}(e.data.features):"requestRender"===e.data.action?b.render():s&&"rendered"===e.data.action&&(requestAnimationFrame((function(){var n=e.data.imageData;s.width=n.width,s.height=n.height,s.getContext("2d").drawImage(n,0,0),s.style.transform=e.data.transform,l=e.data.frameState,h()})),f=!1)}));var S=document.getElementById("info")}},function(e){var n;n=59084,e(e.s=n)}]);
//# sourceMappingURL=offscreen-canvas.js.map