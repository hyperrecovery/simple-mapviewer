"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[694],{9478:function(t,i,s){var r=s(33156),e=s(29123),h=s(79021),n=s(96868),a=s(45231),o=s(92118),u=s(97854),v=s(79309),c=s(85409),l=function(t){function i(i){var s=i||{};t.call(this,{attributions:s.attributions,imageSmoothing:s.imageSmoothing,projection:s.projection,resolutions:s.resolutions}),this.t=void 0!==s.crossOrigin?s.crossOrigin:null,this.i=void 0===s.hidpi||s.hidpi,this.o=s.url,this.u=void 0!==s.imageLoadFunction?s.imageLoadFunction:n.r6,this.v=s.params||{},this.l=null,this.S=[0,0],this.m=0,this.p=void 0!==s.ratio?s.ratio:1.5}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.getParams=function(){return this.v},i.prototype.getImageInternal=function(t,i,s,r){if(void 0===this.o)return null;i=this.findNearestResolution(i),s=this.i?s:1;var e=this.l;if(e&&this.m==this.getRevision()&&e.getResolution()==i&&e.getPixelRatio()==s&&(0,c.r4)(e.getExtent(),t))return e;var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,v.f0)(n,this.v);var o=((t=t.slice())[0]+t[2])/2,u=(t[1]+t[3])/2;if(1!=this.p){var l=this.p*(0,c.dz)(t)/2,f=this.p*(0,c.Cr)(t)/2;t[0]=o-l,t[1]=u-f,t[2]=o+l,t[3]=u+f}var S=i/s,m=Math.ceil((0,c.dz)(t)/S),p=Math.ceil((0,c.Cr)(t)/S);t[0]=o-S*m/2,t[2]=o+S*m/2,t[1]=u-S*p/2,t[3]=u+S*p/2,this.S[0]=m,this.S[1]=p;var g=this.g(t,this.S,s,r,n);return this.l=new a.Z(t,i,s,g,this.t,this.u),this.m=this.getRevision(),this.l.addEventListener(h.Z.CHANGE,this.handleImageChange.bind(this)),this.l},i.prototype.getImageLoadFunction=function(){return this.u},i.prototype.g=function(t,i,s,r,e){var h=r.getCode().split(/:(?=\d+$)/).pop();e.SIZE=i[0]+","+i[1],e.BBOX=t.join(","),e.BBOXSR=h,e.IMAGESR=h,e.DPI=Math.round(90*s);var n=this.o,a=n.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return a==n&&(0,u.h)(!1,50),(0,o.B)(a,e)},i.prototype.getUrl=function(){return this.o},i.prototype.setImageLoadFunction=function(t){this.l=null,this.u=t,this.changed()},i.prototype.setUrl=function(t){t!=this.o&&(this.o=t,this.l=null,this.changed())},i.prototype.updateParams=function(t){(0,v.f0)(this.v,t),this.l=null,this.changed()},i}(n.ZP),f=s(19987),S=s(86395),m=s(78412),p=[new S.Z({source:new f.Z}),new m.Z({source:new l({ratio:1,params:{},url:"https://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Specialty/ESRI_StateCityHighway_USA/MapServer"})})];new r.Z({layers:p,target:"map",view:new e.ZP({center:[-10997148,4569099],zoom:4})})}},function(t){var i;i=9478,t(t.s=i)}]);
//# sourceMappingURL=arcgis-image.js.map