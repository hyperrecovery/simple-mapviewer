"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6423],{39171:function(e,r,t){var n=t(33156),i=t(38048),s=t(79021),o=t(23775),c=t(23448),u=t(98475),a=t(49360),f=t(67316),h="https://api.mapbox.com";function v(e){var r="mapbox://";return 0!==e.indexOf(r)?"":e.slice(r.length)}var l=function(e){function r(r){e.call(this,s.Z.ERROR),this.error=r}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r}(i.ZP),p="vector",d=function(e){function r(r){var t=!("declutter"in r)||r.declutter,n=new a.Z({state:c.Z.LOADING,format:new o.Z});e.call(this,{source:n,declutter:t,className:r.className,opacity:r.opacity,visible:r.visible,zIndex:r.zIndex,minResolution:r.minResolution,maxResolution:r.maxResolution,minZoom:r.minZoom,maxZoom:r.maxZoom,renderOrder:r.renderOrder,renderBuffer:r.renderBuffer,renderMode:r.renderMode,map:r.map,updateWhileAnimating:r.updateWhileAnimating,updateWhileInteracting:r.updateWhileInteracting,preload:r.preload,useInterimTilesOnError:r.useInterimTilesOnError,properties:r.properties}),this.sourceId=r.source,this.layers=r.layers,this.accessToken=r.accessToken,this.fetchStyle(r.styleUrl)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.fetchStyle=function(e){var r=this,t=function(e,r){var t=v(e);if(!t)return e;var n="styles/";if(0!==t.indexOf(n))throw new Error("unexpected style url: "+e);var i=t.slice(n.length);return h+"/styles/v1/"+i+"?&access_token="+r}(e,this.accessToken);fetch(t).then((function(e){if(!e.ok)throw new Error("unexpected response when fetching style: "+e.status);return e.json()})).then((function(e){r.onStyleLoad(e)})).catch((function(e){r.handleError(e)}))},r.prototype.onStyleLoad=function(e){var r,t,n=this;if(this.layers){for(var i,s={},o=0;o<e.layers.length;++o){var u=e.layers[o];u.source&&(s[u.id]=u.source)}for(var a=0;a<this.layers.length;++a){var l=s[this.layers[a]];if(!l)return void this.handleError(new Error("could not find source for "+this.layers[a]));if(i){if(i!==l)return void this.handleError(new Error("layers can only use a single source, found "+i+" and "+l))}else i=l}r=i,t=this.layers}else t=r=this.sourceId;t||(t=r=Object.keys(e.sources)[0]),e.sprite&&(e.sprite=function(e,r){var t=v(e);if(!t)return e;var n="sprites/";if(0!==t.indexOf(n))throw new Error("unexpected sprites url: "+e);var i=t.slice(n.length);return h+"/styles/v1/"+i+"/sprite?access_token="+r}(e.sprite,this.accessToken)),e.glyphs&&(e.glyphs=function(e,r){var t=v(e);if(!t)return e;var n="fonts/";if(0!==t.indexOf(n))throw new Error("unexpected fonts url: "+e);var i=t.slice(n.length);return h+"/fonts/v1/"+i+"/0-255.pbf?access_token="+r}(e.glyphs,this.accessToken));var d=e.sources[r];if(d.type===p){var m,w,b,y=this.getSource();y.setUrl((m=d.url,w=this.accessToken,(b=v(m))?"https://{a-d}.tiles.mapbox.com/v4/"+b+"/{z}/{x}/{y}.vector.pbf?access_token="+w:m)),(0,f.bg)(this,e,t).then((function(){y.setState(c.Z.READY)})).catch((function(e){n.handleError(e)}))}else this.handleError(new Error("only works for vector sources, found "+d.type))},r.prototype.handleError=function(e){this.dispatchEvent(new l(e)),this.getSource().setState(c.Z.ERROR)},r}(u.Z),m=t(29123);new n.Z({target:"map",layers:[new d({styleUrl:"mapbox://styles/mapbox/bright-v9",accessToken:"pk.eyJ1IjoiYWhvY2V2YXIiLCJhIjoiY2pzbmg0Nmk5MGF5NzQzbzRnbDNoeHJrbiJ9.7_-_gL8ur7ZtEiNwRfCy7Q"})],view:new m.ZP({center:[0,0],zoom:2})})}},function(e){var r;r=39171,e(e.s=r)}]);
//# sourceMappingURL=mapbox-vector-layer.js.map